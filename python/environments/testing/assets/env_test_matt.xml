<!-- this is a testing environment for rendering in mujoco 

this summary was derived by reading the documentation at:
https://mujoco.readthedocs.io/en/latest/XMLreference.html#body-geom

for lights:
- pos: position of the light in the world frame
- dir: direction the light is pointing at
- diffuse: color of the light in RGB format


for geoms:
- name: a string name for the object
- type: plane, box, sphere, capsule, cylinder, ellipsoid (this is the type of object obviously)
- contype: what collision group(s) this geom belongs to
- conaffinity: what groups this geom can collide with
- pos: position of the geom in the world frame
- size: size parameters for the geom (depends on type)
- rgba: color of the geom in RGBA format

-->

<mujoco>
    <!-- put config stuff here -->
    <compiler angle = "degree" coordinate = "local"/>
    <option timestep = "0.001" integrator = "RK4" gravity = "0 0 -9.81"/>

    <default>
        <joint damping = "0.25"/>
    </default>

    <visual>
        <map znear = "0.01" zfar = "50.0"/>
        <quality shadowsize = "4096"/>
        <scale 
            framelength = "2.0" 
            framewidth = "0.1" 
            jointlength = "2.0" 
            jointwidth = "0.1"/>
    </visual>

    <!-- this is for the skybox -->
    <asset>
        <texture type = "skybox" builtin = "gradient" rgb1 = "1 1 1" rgb2 = ".6 .8 1" width = "256" height = "256"/>
    </asset>

    <!-- this is where the actual geometries are defined -->
    <worldbody>
        <!-- this is the light -->
        <light name = "overhead_light" specular = "0 0 0" ambient = "0 0 0" diffuse = "0.9 0.9 0.9" pos = "0 0 5"/>

        <!-- this is the camera -->
        <camera name = "overhead_camera" pos = "0 0 3"/>

        <!-- this is the ground plane -->
        <geom name = "ground_plane" type = "plane" contype = "1" conaffinity = "1" pos = "0 0 0" size = "1.05 1.05 0.1" rgba = "0.9 0.9 0.9 1"/>

        <!-- these are the walls -->
        <geom name = "right_wall" type = "box" contype = "1" conaffinity = "1" pos = "1.025 0 0.05" size = "0.025 1.05 0.05"/>
        <geom name = "left_wall" type = "box" contype = "1" conaffinity = "1" pos = "-1.025 0 0.05" size = "0.025 1.05 0.05"/>
        <geom name = "front_wall" type = "box" contype = "1" conaffinity = "1" pos = "0 1.025 0.05" size = "1 0.025 0.05"/>
        <geom name = "back_wall" type = "box" contype = "1" conaffinity = "1" pos = "0 -1.025 0.05" size = "1 0.025 0.05"/>

        <!-- this is the agent -->
        <body name = "agent" pos = "0 0 0.01">
            <!-- joints -->
            <joint name = "z_rotation" type = "hinge" axis = "0 0 1"/>
            <joint name = "x_translate" type = "slide" axis = "1 0 0"/>
            <joint name = "y_translate" type = "slide" axis = "0 1 0"/>
    
            <!-- main body -->
            <geom type = "cylinder" contype = "1" conaffinity = "1" size = "0.1 0.01" rgba = "1 0 0 1" mass = "0.5"/>

            <!-- add the site for the lidar -->
            <site name = "lidar_site" pos = "0 0 0.01" euler = "-90 0 0"/>
        </body>

        <!-- this  is the task -->
        <geom name = "task" type = "cylinder" contype = "0" conaffinity = "0" pos = "0.5 0.5 0.01" size = "0.1 0.01" rgba = "0 1 0 1"/>
    </worldbody>

    <!-- need to add sensors -->
    <sensor>
        <rangefinder name = "lidar" site = "lidar_site"/>
    </sensor>
</mujoco>